<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Pedidos de Salgados</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');

* { box-sizing: border-box; font-family: 'Poppins', sans-serif; }

body {
    margin: 0;
    min-height: 100vh;
    background: linear-gradient(rgba(0,0,0,.6),rgba(0,0,0,.6)),
    url("https://images.unsplash.com/photo-1604908177225-28f8a47d9e2b");
    background-size: cover;
    padding: 30px;
}

h1, h2 { text-align: center; color: #FFD700; }

.container { max-width: 600px; margin: auto; }

form, .pedido, .painel {
    background: #ffffffee;
    padding: 25px;
    border-radius: 15px;
    margin-top: 20px;
}

label { font-weight: 600; display: block; margin-top: 15px; }

select, input {
    width: 100%;
    padding: 12px;
    margin-top: 5px;
    border-radius: 10px;
    border: 1px solid #ccc;
}

button {
    width: 100%;
    margin-top: 20px;
    padding: 15px;
    background: linear-gradient(45deg,#ff9800,#ff5722);
    color: #fff;
    border: none;
    border-radius: 12px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
}

button:hover { transform: scale(1.03); }

.pedido {
    border-left: 6px solid #ff5722;
}

.hidden { display: none; }

.admin-btn {
    background: #333;
    margin-top: 30px;
}
</style>
</head>

<body>

<h1>ğŸŸ Pedido de Salgados ğŸŸ</h1>

<div class="container">

<form id="pedidoForm">
    <label>ğŸ”¥ Preparo</label>
    <select id="preparo" required>
        <option value="">Selecione</option>
        <option>Frito</option>
        <option>Assado</option>
    </select>

    <label>ğŸ§€ Sabor</label>
    <select id="sabor" required>
        <option value="">Selecione</option>
        <option>Queijo</option>
        <option>Presunto com queijo</option>
        <option>Coxinha</option>
        <option>Bolinha de queijo</option>
    </select>

    <label>ğŸšš Entrega ou retirada</label>
    <select id="entrega" required>
        <option value="">Selecione</option>
        <option>Entrega</option>
        <option>Buscar no local</option>
    </select>

    <button type="submit">ğŸ“² Enviar pedido no WhatsApp</button>
</form>

<button class="admin-btn" onclick="abrirPainel()">ğŸ”’ Painel do Atendente</button>

<div id="painel" class="painel hidden">
    <h2>ğŸ“‹ Pedidos Recebidos</h2>
    <div id="listaPedidos"></div>
</div>

</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script>

// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "AIzaSyACHSslZhIJFXHBDqxxpoHN2ewvK-WpYJU",
  authDomain: "pedidos-salgados.firebaseapp.com",
  projectId: "pedidos-salgados",
  storageBucket: "pedidos-salgados.firebasestorage.app",
  messagingSenderId: "1097493504381",
  appId: "1:1097493504381:web:7d84146eaeca038e56ac14"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
    
const telefoneWhatsApp = "5521974856392"; // TROQUE PELO SEU NÃšMERO
const senhaPainel = "8456";

let numeroPedido = localStorage.getItem("numeroPedido");
if (!numeroPedido) numeroPedido = 0;

function abrirPainel() {
    const senha = prompt("Digite a senha do painel:");
    if (senha === senhaPainel) {
       document.getElementById("painel").classList.remove("hidden");
carregarPedidos();

    } else {
        alert("Senha incorreta!");
    }
}

document.getElementById("pedidoForm").addEventListener("submit", function(e) {
    e.preventDefault();

    const preparo = document.getElementById("preparo").value;
    const sabor = document.getElementById("sabor").value;
    const entrega = document.getElementById("entrega").value;

    const mensagem =
`ğŸ§¾ Pedido NÂº ${numeroPedido}
ğŸ³ Preparo: ${preparo}
ğŸ¥Ÿ Sabor: ${sabor}
ğŸšš Entrega: ${entrega}`;

    // Abre WhatsApp
    const url = `https://wa.me/${telefoneWhatsApp}?text=${encodeURIComponent(mensagem)}`;
    window.open(url, "_blank");

    // Mostra no painel
   // Salva pedido no Firebase
db.collection("pedidos").add({
    numero: numeroPedido,
    preparo,
    sabor,
    entrega,
    data: new Date()
});

        <strong>Pedido NÂº ${numeroPedido}</strong><br>
        ğŸ³ Preparo: ${preparo}<br>
        ğŸ¥Ÿ Sabor: ${sabor}<br>
        ğŸšš Entrega: ${entrega}
    `;

    document.getElementById("listaPedidos").prepend(pedidoDiv);

    numeroPedido++;
    localStorage.setItem("numeroPedido", numeroPedido);

    this.reset();
});

function carregarPedidos() {
    db.collection("pedidos")
      .orderBy("data", "desc")
      .onSnapshot(snapshot => {
        const lista = document.getElementById("listaPedidos");
        lista.innerHTML = "";
        snapshot.forEach(doc => {
            const p = doc.data();
            lista.innerHTML += `
              <div class="pedido">
                <strong>Pedido NÂº ${p.numero}</strong><br>
                ğŸ³ ${p.preparo}<br>
                ğŸ¥Ÿ ${p.sabor}<br>
                ğŸšš ${p.entrega}
              </div>
            `;
        });
      });
}

</script>

</body>
</html>

